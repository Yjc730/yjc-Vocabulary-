<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Vocab SRS</title>
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
<header class="topbar">
  <div class="topbar-inner">
    <div class="brand">
      <div class="logo">Q</div>
      <div>
        <div class="title">My Vocab SRS</div>
        <div class="subtitle" id="stats">載入中…</div>
      </div>
    </div>

    <nav class="tabs">
      <button class="tab is-active" data-tab="home">Home</button>
      <button class="tab" data-tab="study">Study</button>
      <button class="tab" data-tab="add">Add</button>
      <button class="tab" data-tab="library">Library</button>
      <button class="tab" data-tab="backup">Backup</button>
    </nav>
  </div>
</header>

<main class="container">

<!-- ================= Home ================= -->
<section id="tab-home" class="panel">
  <div class="row between">
    <h2>Home</h2>
    <div class="hint">選單元 → 直接開始背，或查看單字薄</div>
  </div>

  <div class="row wrap gap" style="margin-top:10px;">
    <div class="field">
      <label>Folder</label>
      <select id="homeFolderSelect"></select>
    </div>
    <div class="field grow">
      <label>搜尋單元</label>
      <input id="homeSearch" placeholder="Unit 5 / Article Words / Week 3…" />
    </div>
  </div>

  <div id="cardsWrap" class="cardsWrap"></div>
</section>

<!-- ================= Study ================= -->
<section id="tab-study" class="panel">
  <div class="row between">
    <h2>Study</h2>
    <button id="reloadBtn" class="btn btn-ghost">重新載入</button>
  </div>

  <div class="row wrap gap">
    <div class="field">
      <label>Folder</label>
      <select id="studyFolderSelect"></select>
    </div>
    <div class="field">
      <label>Set</label>
      <select id="studySetSelect"></select>
    </div>
    <div class="field">
      <label>模式</label>
      <select id="modeSelect">
        <option value="en2zh">英 → 中</option>
        <option value="zh2en">中 → 英</option>
        <option value="cloze">例句挖空</option>
      </select>
    </div>
  </div>

  <!-- 教學型提示 -->
  <div class="hint" style="margin-top:8px;">
    空白鍵翻面 ｜ 1 😵 ｜ 2 🤔 ｜ 3 😎 ｜ 手機左右滑
  </div>

  <div class="todayBox">
    <div class="row between">
      <div id="todayText" class="todayText">今日進度：0 / 0</div>
      <div id="todayDoneText" class="todayText muted">今日完成：0</div>
    </div>
    <div class="bar"><div id="todayBar" class="barFill"></div></div>
  </div>

  <div id="empty" class="empty">今天沒有到期單字 🎉</div>

  <div id="reviewBox" class="review hidden">
    <div class="progress">
      <span id="progressText">1 / 1</span>
      <span class="pill">Due</span>
    </div>

    <button id="cardBtn" class="flashcard" type="button">
      <div class="front">
        <div class="big" id="front">term</div>
        <div id="frontSub" class="muted"></div>
        <div class="tap">點一下顯示答案</div>
      </div>
      <div class="back">
        <div class="big2" id="back"></div>
        <div class="meta" id="exampleOut"></div>
        <div class="meta" id="tagsOut"></div>
        <div class="tap">點一下回到題目</div>
      </div>
    </button>

    <!-- 語意化評分 -->
    <div class="rateRow">
      <button class="btn btn-soft rate" data-score="1">😵 完全沒印象</button>
      <button class="btn btn-ghost rate" data-score="2">🤔 有點印象</button>
      <button class="btn btn-primary rate" data-score="3">😎 秒答</button>
    </div>
  </div>
</section>

<!-- ================= Add ================= -->
<section id="tab-add" class="panel hidden">
  <div class="row between">
    <h2>Add</h2>
    <div class="hint">① Folder → ② Set → ③ 單字</div>
  </div>

  <div class="panelInner">

    <!-- Step 1：Folder -->
    <h3>① Folder</h3>
    <div class="row wrap gap">
      <div class="field grow">
        <label>選擇 Folder</label>
        <select id="addFolderSelect"></select>
      </div>
      <div class="field grow">
        <label>新增 Folder</label>
        <div class="row gap">
          <input id="newFolderName" placeholder="Academic / TOEIC / Daily…" />
          <button id="createFolderBtn" class="btn btn-ghost">建立</button>
        </div>
      </div>
    </div>

    <hr class="hr"/>

    <!-- Step 2：Set -->
    <h3>② Set（單元）</h3>
    <div class="row wrap gap">
      <div class="field grow">
        <label>選擇 Set</label>
        <select id="addSetSelect"></select>
      </div>
      <div class="field grow">
        <label>新增 Set</label>
        <div class="row gap">
          <input id="newSetName" placeholder="Unit 5 / Week 3 / Article 12" />
          <button id="createSetBtn" class="btn btn-ghost">建立</button>
        </div>
      </div>
    </div>

    <div class="grid">
      <div class="field">
        <label>考試名稱（可空）</label>
        <input id="examTitle" />
      </div>
      <div class="field">
        <label>考試日期（可空）</label>
        <input id="examDate" type="date" />
      </div>
    </div>

    <div class="row gap">
      <button id="saveExamBtn" class="btn btn-soft">儲存考試資訊</button>
      <div id="examMsg" class="msg"></div>
    </div>

    <hr class="hr"/>

    <!-- Step 3：Word -->
    <h3>③ 新增單字</h3>
    <div class="grid">
      <div class="field">
        <label>英文</label>
        <input id="term" />
      </div>
      <div class="field">
        <label>詞性</label>
        <input id="pos" />
      </div>
      <div class="field">
        <label>中文</label>
        <input id="definition" />
      </div>
      <div class="field">
        <label>例句</label>
        <input id="example" />
      </div>
      <div class="field span2">
        <label>Tags</label>
        <input id="tags" />
      </div>
    </div>

    <div class="row gap">
      <button id="addBtn" class="btn btn-primary">加入單字</button>
      <div id="addMsg" class="msg"></div>
    </div>
  </div>
</section>

<!-- Library / Backup 保持原樣 -->
<section id="tab-library" class="panel hidden"></section>
<section id="tab-backup" class="panel hidden"></section>

</main>

<script type="module" src="./app.js"></script>
</body>
</html>
